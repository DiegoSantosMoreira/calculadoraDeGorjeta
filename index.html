<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="user-scalable=no">
    <title>Tip Calculator</title>
    <script src="operation.js" defer></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" type="text/css" href="style.css" />
</head>

<body>
    <header id="header">
        <h1> <strong> Calculadora de Gorjeta</strong></h1>
    </header>
    <div id="div">
        <div class="mainDiv" >


            <div class="calculatorDiv">
                
                <label>
                    <strong>Consumo</strong>
                    <p id="screen"></p>
                </label>
                <label>
                    <strong>Valor gorjeta</strong>
                    <p id="screenGorjeta"></p>
                </label>
                <label>
                    <strong>Total a pagar</strong>
                    <p id="screenTotal"></p>
                </label>
                <table>
                    <tr>
                        <td colspan="2"> <button onclick="apagarTudo()" class="newButton"
                                style="width: 110px;"><strong>C</strong></button></td>
                        <td colspan="2"> <button onclick="voltar()" class="newButton"
                                style="width: 110px;"><strong>←</strong></button></td>
                        <td colspan="2"> <button onclick="inserir('.')" class="button"
                                style="width: 110px;"><strong>,</strong></button></td>
                    </tr>
                    <tr>
                        <td colspan="2"> <button onclick="inserir('7')" class="button"
                                style="width: 110px;"><strong>7</strong></button></td>
                        <td colspan="2"> <button onclick="inserir('8')" class="button"
                                style="width: 110px;"><strong>8</strong></button></td>
                        <td colspan="2"> <button onclick="inserir('9')" class="button"
                                style="width: 110px;"><strong>9</strong></button></td>
                    </tr>
                    </tr>
                    <tr>
                        <td colspan="2"> <button onclick="inserir('4')" class="button"
                                style="width: 110px;"><strong>4</strong></button></td>
                        <td colspan="2"> <button onclick="inserir('5')" class="button"
                                style="width: 110px;"><strong>5</strong></button></td>
                        <td colspan="2"> <button onclick="inserir('6')" class="button"
                                style="width: 110px;"><strong>6</strong></button></td>
                    </tr>
                    <tr>
                        <td colspan="2"> <button onclick="inserir('1')" class="button"
                                style="width: 110px;"><strong>1</strong></button></td>
                        <td colspan="2"> <button onclick="inserir('2')" class="button"
                                style="width: 110px;"><strong>2</strong></button></td>
                        <td colspan="2"> <button onclick="inserir('3')" class="button"
                                style="width: 110px;"><strong>3</strong></button></td>

                    </tr>
                    <tr>

                        <td colspan=""> <button onclick="inserir('0')" class="button"
                                style="width: 110px;"><strong>0</strong></button></td>
                    </tr>

                </table>
                <div>
                    <label>
                        <strong>N° de Pessoas</strong>
                    </label>
                
                </div>
                <div>
                    <input type="number"id="numero1">
                </div>
                <div style="margin-left: 35%;">
                    <button id="calcularValorPessoa" class="newButton"
                                style="width: 110px;">Calcular</button>
                </div>
                
                <div>
                    <table id="tableGorjetaTotal">
                        <thead>
                            <th>Vlr Gorjeta p/ Pessoa</th>
                            <th>Vlr Total p/ Pessoa</th>
                        </thead>
                        <tr>    
                            <td><p class="pScreen" id="p1">R$ --</p></td>
                            <td><p class="pScreen" id="p2">R$ --</p></td>
                        </tr>
                    </table>
                <div>
                    <h3 style="margin:2px;">Gorjeta</h3>
                </div>
                <div>
                    <button id="calcular10" class="buttonTip" style="width: 340px;"><strong>10%</strong></button>
                </div>
                <di>
                    <button id="calcular15" class="buttonTip" style="width: 340px;"><strong>15%</strong></button>
                </di>
                <div>
                    <button id="calcular20" class="buttonTip" style="width: 340px;"><strong>20%</strong></button>
                </div>

            </div>
        </div>
    </div>
    <script>
        document.getElementById('calcular10').addEventListener('click',function calcular10(){
        var numero = parseFloat(document.getElementById('screen').innerHTML);
        if(numero)
        {
            document.getElementById('screenGorjeta').innerHTML = eval(numero * 0.1).toFixed(2);
            var numero2 = parseFloat(document.getElementById('screenGorjeta').innerHTML);
            document.getElementById('screenTotal').innerHTML = (numero + numero2).toFixed(2);
        }else{
            Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'Você esqueceu de definir o consumo!'
            })
            
        }
    })
    document.getElementById('calcular15').addEventListener('click',function calcular15(){
        var numero = parseFloat(document.getElementById('screen').innerHTML);
        if(numero)
        {
            document.getElementById('screenGorjeta').innerHTML = eval(numero * 0.15).toFixed(2);
            var numero2 = parseFloat(document.getElementById('screenGorjeta').innerHTML);
            document.getElementById('screenTotal').innerHTML = (numero + numero2).toFixed(2);
        }else{
            Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'Você esqueceu de definir o consumo!'
            })
            
        }
    })
    document.getElementById('calcular20').addEventListener('click',function calcular20(){
        var numero = parseFloat(document.getElementById('screen').innerHTML);
        if(numero)
        {
            document.getElementById('screenGorjeta').innerHTML = eval(numero * 0.2).toFixed(2);
            var numero2 = parseFloat(document.getElementById('screenGorjeta').innerHTML);
            document.getElementById('screenTotal').innerHTML = (numero + numero2).toFixed(2);
        }else{
            Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'Você esqueceu de definir o consumo!'
            })
            
        }
    })
    document.getElementById('calcularValorPessoa').addEventListener('click',function calcularValorPessoa(){
    var numeroPessoa = document.getElementById('numero1').value;
        if(numeroPessoa)
        {
            var gorjeta = document.getElementById('screenGorjeta').innerHTML;
            var vlrTotal = document.getElementById('screenTotal').innerHTML;
            document.getElementById('p1').innerHTML = eval(gorjeta/numeroPessoa).toFixed(2);
            document.getElementById('p2').innerHTML = eval(vlrTotal/numeroPessoa).toFixed(2);
        }else{
            Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'Você esqueceu de definir o número de pessoas!'
            })
            
        }
    })
        function inserir(vlr){
    var numero = document.getElementById('screen').innerHTML;
    document.getElementById('screen').innerHTML = numero + vlr;
}
function apagarTudo(){
    document.getElementById('screen').innerHTML = "";
    document.getElementById('screenGorjeta').innerHTML="";
    document.getElementById('screenTotal').innerHTML="";
     document.getElementById('p1').innerHTML="";
    document.getElementById('p2').innerHTML="";
    document.getElementById('numero1').value="";
}
function voltar(){
    var numero = document.getElementById('screen').innerHTML;
    document.getElementById('screen').innerHTML = numero.substring(0,numero.length -1);x
}


    </script>
</body>

</html>
